# å»ºè¨­å…¬å¸ERPç³»çµ± - Frontend Dockerfile
# ğŸ¤– Generated with Claude Code

# å»ºç½®éšæ®µ
FROM node:18-alpine AS build

# è¨­å®šå·¥ä½œç›®éŒ„
WORKDIR /app

# è¤‡è£½ package*.json æª”æ¡ˆ
COPY package*.json ./

# å®‰è£ä¾è³´
RUN npm ci && npm cache clean --force

# è¤‡è£½å°ˆæ¡ˆæºç¢¼
COPY . .

# å»ºç½®æ‡‰ç”¨ç¨‹å¼
RUN npm run build

# ç”Ÿç”¢éšæ®µ
FROM nginx:alpine

# è¤‡è£½å»ºç½®çµæœåˆ° Nginx
COPY --from=build /app/dist /usr/share/nginx/html

# è¤‡è£½ Nginx é…ç½®
COPY nginx.conf /etc/nginx/conf.d/default.conf

# æš´éœ²ç«¯å£
EXPOSE 80

# å•Ÿå‹• Nginx
CMD ["nginx", "-g", "daemon off;"]